<h1>{{recipe.nameRecipe}}</h1>
<h3 *ngFor="let s of spices">*</h3>
<h4>{{recipe.recipeType}} pour {{recipe.persons}} personnes ({{recipe.prepTime}} min)</h4>
{{recipe.summary}}<br>
<i>postée le {{recipe.postDate}} par {{recipe.pseudo}}</i>
<br>
Ingrédients :
<ul>
    <li *ngFor="let ingredient of ingredients">
        {{ingredient.quantity}}{{ingredient.unit}} {{ingredient.nameIngredient}}
    </li>
</ul>
Préparation :
<ul>
    <li *ngFor="let step of steps">
        {{step.stepNb}} : {{step.step}}
    </li>
</ul>

<app-review-form *ngIf="authService.currentUserValue; else guestUser;" (reviewPosted)="postReview($event)"></app-review-form>
<div *ngFor="let review of reviews">
    <h6>{{review.pseudo}}</h6> ({{review.rate}}/5)
    <p>{{review.reviewMessage}}</p>
    <button *ngIf="authService.currentUserValue.userType || authService.currentUserValue.idUser === review.idUser" (click)="deleteReviewInDB(review)">Delete review</button>
</div>

<ng-template #guestUser>
    <b>You must log in to post a review</b>
</ng-template>
